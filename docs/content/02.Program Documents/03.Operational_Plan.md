# Üzemeltetési terv

## 1. Áttekintés

A Cinema Road rendszer egy többkonténeres architektúrára épülő, PHP (Laravel), Vue.js és MySQL stacket használó webalkalmazás. Az üzemeltetés teljes folyamata Docker Compose-szal és automatikus szkriptekkel támogatott. Az alábbiakban bemutatom a rendszer telepítési, konfigurációs, mentési, visszaállítási, valamint felügyeleti és karbantartási gyakorlatait.

---

## 2. Telepítés és indítás

### 2.1 Projekt másolása lokális futtatáshoz

1. Visual Studio Code keretrendszerben, terminál megnyitása.
2. Repository klónozása:

```bash
  git clone https://github.com/Bari1192/CinemaRoad
```

3. Könyvtárszerkezetbe való belépés:
```bash
  cd CinemaRoad
```
4. A projekt inicializálása, futtatása:
```bash
  sh start.sh
```

- A szükséges környezeti változók az alapértelmezett `backend/.env.example` fájlban találhatók.
- Az első lépésben ezt a fájlt **le kell másolni** `.env` néven ugyanebbe a könyvtárba:

  ```bash
  cp backend/.env.example backend/.env
  ```

- Ha speciális beállításokat igényel a környezet (pl. adatbázis-jelszó, APP_URL stb.), az új `.env` fájlt _szerkeszteni_ kell az ***Ön paraméterei szerint***.
- A `.env`-et a **backend** és a többi hozzá tartozó konténer is használja, mert mindegyik innét olvassa a szükséges konfigurációs értékeket.

### 2.2 Indítás, leállítás, eltávolítás

Az indulás, leállítás és teljes törlés lépései:

#### Indítás (Inicializálás)

A projekt gyökerében futtasd:

```bash
./start.sh
```

- Ez létrehozza és elindítja a Docker-konténereket, inicializálja az adatbázist, szinkronizálja az `.env` változókat.

#### Leállítás

```bash
docker compose stop
```

- Ezzel megállítod a futó konténereket, de az adatok, beállítások megmaradnak.

#### Eltávolítás (adatvesztés!)

```bash
docker compose down -v
```

- A `-v` kapcsolóval minden kötet/adatbázis volumen is törlődik — **ez nem visszavonható**, teljesen üres adatbázissal indul újra legközelebb.

---

## 3. Konfigurációs és környezeti menedzsment

- A rendszer .env alapú. A végleges `.env` **mindig** a `backend` mappába kerüljön.
- Minden változás/leállítás után kövesd a projekt [README](https://github.com/Bari1192/CinemaRoad) útmutatóját!
- A környezeti változók a fejlesztői és éles működéshez is módosíthatók (adatbázis, logolás, mail, cache, stb.).

---

## 4. Rendszer-felügyelet, naplózás, monitoring

- A backend logjai a `storage/logs` mappában találhatók. Javasolt a fájlok rotációja (méret/idő alapján).
- Komolyabb élesítés esetén ajánlott legalább alapszintű monitorozást (pl. Portainer, Prometheus) bevezetni a konténerek, szolgáltatások ellenőrzésére.
- Hibák, rendellenes működés esetén a logok elsődlegesen a hibakeresés forrásai.

---

## 5. Frissítés, karbantartás, hibaelhárítás

- Minden frissítés, új build vagy karbantartás **előtt** készíts teljes mentést!
- Az alkalmazás karbantartási módja az `.env` (pl. `APP_MAINTENANCE_DRIVER`) átállításával léptethető életbe.
- Git snapshotok és részletes változáskövetés szintén a [CinemaRoad GitHub](https://github.com/Bari1192/CinemaRoad) repóban.

---

## 7. Hibakezelés, visszaállítás

- Hibák első vizsgálata mindig: logfájl, konténer log, státusz.
- Szükség esetén a legutóbbi biztonsági másolat visszatöltése, vagy teljes projekt újraindítása az alapoktól (`docker compose down -v → ./start.sh`).

---

## 8. Hivatkozások, források

- [Cinema Road – GitHub](https://github.com/Bari1192/CinemaRoad)
- [Cinema Road Adatbázis-diagram (Draw.io)](https://tinyurl.com/CinemaRoadDraw)
- Teljes dokumentáció és további részletek: projekt README, backend `.env.example`

---

>Ez a dokumentum áttekinthető módon foglalja össze a Cinema Road rendszer telepítési, üzemeltetési és karbantartási lépéseit, különös tekintettel a helyes .env használatra és a Docker-alapú működtetésre.  
Amennyiben környezetet vagy konfigurációt kell módosítanod, minden további információ megtalálható a [Cinema Road GitHub](https://github.com/Bari1192/CinemaRoad) és a projekthez adott leírásokban.
---

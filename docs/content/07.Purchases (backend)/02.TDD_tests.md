# Purchase Modell Tesztesetei

A Purchase modell tesztelése a Laravel PHPUnit tesztelési keretrendszerrel történik.  
A cél, hogy biztosítsuk a modell helyes működését, ideértve az adatbázis interakciókat és a más modellekkel való kapcsolatokat.  
A tesztek **TDD** *(Test-Driven Development)* elvek szerint íródtak.

## Teszt Fájl Helye

`tests/Unit/Models/PurchaseTest.php`

## Teszt Metódusok

### Modell Alapvető Tulajdonságai

1. **`test_it_uses_the_correct_database()`**  
   - **Cél**: Annak ellenőrzése, hogy a Purchase modell a megfelelő adatbázis táblát használja.  
   - **Elvárt eredmény**: A modell `$table` tulajdonsága `'purchases'`.

2. **`test_it_has_the_correct_fillable_attributes()`**  
   - **Cél**: Annak ellenőrzése, hogy a Purchase modell a megfelelő `$fillable` attribútumokkal rendelkezik.  
   - **Elvárt eredmény**: A `$fillable` tömb tartalmazza a következő mezőket:  
     `location_id`, `screening_id`, `movie_id`, `ticket_code`, `guest_email`, `parkingspot`, `user_id`, `created_at`, `updated_at`.

---

### Kapcsolatok

#### `Purchase` -> `Movie` (BelongsTo)

1. **`test_purchase_belongs_to_a_movie()`**  
   - **Cél**: Annak ellenőrzése, hogy a Purchase modell a megfelelő filmhez van hozzárendelve.  
   - **Elvárt eredmény**: A `purchase->movie` egy `Movie` példány, amelynek ID-je megegyezik a hozzárendelt film ID-jével.

#### `Purchase` -> `Screening` (BelongsTo)

2. **`test_purchase_belongs_to_a_screening()`**  
   - **Cél**: Annak ellenőrzése, hogy a Purchase modell a megfelelő vetítéshez van hozzárendelve.  
   - **Elvárt eredmény**: A `purchase->screening` egy `Screening` példány, amelynek ID-je megegyezik a hozzárendelt vetítés ID-jével.

#### `Purchase` -> `User` (BelongsTo)

3. **`test_purchase_belongs_to_a_user()`**  
   - **Cél**: Annak ellenőrzése, hogy a Purchase modell a megfelelő felhasználóhoz van hozzárendelve.  
   - **Elvárt eredmény**: A `purchase->user` egy `User` példány, amelynek ID-je megegyezik a hozzárendelt felhasználó ID-jével.

---

### Adatbázis Műveletek

1. **`test_it_can_be_stored_in_database()`**  
   - **Cél**: Annak ellenőrzése, hogy a Purchase modell példánya menthető az adatbázisba, és a mentés után lekérdezhető a várt adatokkal.  
   - **Elvárt eredmény**: A `purchases` táblában szerepel a létrehozott rekord a megadott `ticket_code`, `guest_email` és `parkingspot` értékekkel.

# Purchases Adatbázis Tesztesetei

Ez a dokumentum a `purchases` adatbázis tábla szerkezetének és alapvető integritásának tesztelését írja le a Laravel **PHPUnit** tesztelési keretrendszerrel.  
A tesztek **TDD** *(Test-Driven Development)* **elvek szerint** íródtak.

## Teszt Fájl Helye

`tests/Unit/DatabaseTests/PurchasesDatabaseTest.php`

## Teszt Metódusok

### Tábla Létezése

1. **`test_purchases_table_exists()`**
   * **Cél**: Annak ellenőrzése, hogy a `purchases` tábla létezik-e az adatbázisban.
   * **Elvárt eredmény**: A `purchases` tábla létezik.

---

### Oszlopok Létezése és Típusai

#### ID
1. **`test_purchases_table_has_id_column()`**
   * **Cél**: Annak ellenőrzése, hogy az `id` oszlop létezik.
   * **Elvárt eredmény**: Az `id` oszlop létezik.
2. **`test_purchase_id_column_is_bigint()`**
   * **Cél**: Annak ellenőrzése, hogy az `id` oszlop típusa `bigint`.
   * **Elvárt eredmény**: `bigint`.

#### SCREENING ID
3. **`test_purchases_table_has_screening_id_column()`**
   * **Cél**: Ellenőrizze, hogy a `screening_id` oszlop létezik.
   * **Elvárt eredmény**: Létezik.
4. **`test_purchase_screening_id_column_is_bigint()`**
   * **Cél**: Típusellenőrzés.
   * **Elvárt eredmény**: `bigint`.

#### LOCATION ID
5. **`test_purchases_table_has_location_id_column()`**
   * **Cél**: Létezés ellenőrzése.
   * **Elvárt eredmény**: Létezik.
6. **`test_purchase_location_id_column_is_bigint()`**
   * **Cél**: Típusellenőrzés.
   * **Elvárt eredmény**: `bigint`.

#### MOVIE ID
7. **`test_purchases_table_has_movie_id_column()`**
   * **Cél**: Létezés ellenőrzése.
   * **Elvárt eredmény**: Létezik.
8. **`test_purchase_movie_id_column_type_is_bigint()`**
   * **Cél**: Típusellenőrzés.
   * **Elvárt eredmény**: `bigint`.

#### USER ID
9. **`test_purchases_table_has_user_id_column()`**
   * **Cél**: Létezés ellenőrzése.
   * **Elvárt eredmény**: Létezik.
10. **`test_purchase_user_id_column_type_is_date()`**
    * **Cél**: Típusellenőrzés.
    * **Elvárt eredmény**: `bigint`.

#### TICKET CODE
11. **`test_purchases_table_has_ticket_code_column()`**
    * **Cél**: Létezés ellenőrzése.
    * **Elvárt eredmény**: Létezik.
12. **`test_purchase_ticket_code_column_is_bigint()`**
    * **Cél**: Típusellenőrzés.
    * **Elvárt eredmény**: `varchar`.

#### GUEST EMAIL
13. **`test_purchases_table_has_guest_email_column()`**
    * **Cél**: Létezés ellenőrzése.
    * **Elvárt eredmény**: Létezik.
14. **`test_purchase_guest_email_column_is_varchar()`**
    * **Cél**: Típusellenőrzés.
    * **Elvárt eredmény**: `varchar`.

#### PARKING SPOT
15. **`test_purchases_table_has_parkingspot_column()`**
    * **Cél**: Létezés ellenőrzése.
    * **Elvárt eredmény**: Létezik.
16. **`test_purchase_guest_parkingspot_column_is_varchar()`**
    * **Cél**: Típusellenőrzés.
    * **Elvárt eredmény**: `varchar`.

#### CREATED_AT
17. **`test_purchases_table_has_created_at_column()`**
    * **Cél**: Létezés ellenőrzése.
    * **Elvárt eredmény**: Létezik.
18. **`test_purchase_guest_created_at_column_is_timestamp()`**
    * **Cél**: Típusellenőrzés.
    * **Elvárt eredmény**: `timestamp`.

#### UPDATED_AT
19. **`test_purchase_updated_at_column_is_datetime()`**
    * **Cél**: Típusellenőrzés.
    * **Elvárt eredmény**: `timestamp`.
20. **`test_purchase_guest_updated_at_column_is_timestamp()`**
    * **Cél**: Típusellenőrzés.
    * **Elvárt eredmény**: `timestamp`.

---

## Összegzés

A tesztek célja, hogy garantálják a `purchases` tábla szerkezeti integritását, beleértve az összes kötelező oszlop létezését és megfelelő adattípusát. Ez biztosítja a konzisztens adatkezelést és az adatbázis stabil működését.
